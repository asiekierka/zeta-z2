
var ZetaNative = (() => {
  var _scriptName = typeof document != 'undefined' ? document.currentScript?.src : undefined;
  
  return (
function(moduleArg = {}) {
  var moduleRtn;

var b=moduleArg,d,l,q=new Promise((a,c)=>{d=a;l=c}),r=Object.assign({},b),t="",u;"undefined"!=typeof document&&document.currentScript&&(t=document.currentScript.src);_scriptName&&(t=_scriptName);t.startsWith("blob:")?t="":t=t.substr(0,t.replace(/[?#].*/,"").lastIndexOf("/")+1);u=a=>fetch(a,{credentials:"same-origin"}).then(c=>c.ok?c.arrayBuffer():Promise.reject(Error(c.status+" : "+c.url)));var v=console.log.bind(console),w=console.error.bind(console);Object.assign(b,r);r=null;var x,y=!1,z,A;
function F(){var a=x.buffer;new Int8Array(a);new Int16Array(a);b.HEAPU8=z=new Uint8Array(a);new Uint16Array(a);new Int32Array(a);b.HEAPU32=A=new Uint32Array(a);new Float32Array(a);new Float64Array(a)}var G=[],H=[],I=[],J=0,K=null,L=null,M=a=>a.startsWith("data:application/octet-stream;base64,"),N;function O(a){return u(a).then(c=>new Uint8Array(c),()=>{throw"both async and sync fetching of the wasm failed";})}
function P(a,c,e){return O(a).then(f=>WebAssembly.instantiate(f,c)).then(e,f=>{w(`failed to asynchronously prepare wasm: ${f}`);f="Aborted("+f+")";w(f);y=!0;f=new WebAssembly.RuntimeError(f+". Build with -sASSERTIONS for more info.");l(f);throw f;})}
function S(a,c){var e=N;return"function"!=typeof WebAssembly.instantiateStreaming||M(e)||"function"!=typeof fetch?P(e,a,c):fetch(e,{credentials:"same-origin"}).then(f=>WebAssembly.instantiateStreaming(f,a).then(c,function(m){w(`wasm streaming compile failed: ${m}`);w("falling back to ArrayBuffer instantiation");return P(e,a,c)}))}
var T=a=>{a.forEach(c=>c(b))},aa=[null,[],[]],U="undefined"!=typeof TextDecoder?new TextDecoder:void 0,V=a=>{for(var c="";;){var e=z[a++];if(!e)return c;c+=String.fromCharCode(e)}},ca={p:(a,c,e)=>z.copyWithin(a,c,c+e),e:function(a){console.log(V(a))},n:a=>{var c=z.length;a>>>=0;if(2147483648<a)return!1;for(var e=1;4>=e;e*=2){var f=c*(1+.2/e);f=Math.min(f,a+100663296);a:{f=(Math.min(2147483648,65536*Math.ceil(Math.max(a,f)/65536))-x.buffer.byteLength+65535)/65536|0;try{x.grow(f);F();var m=1;break a}catch(B){}m=
void 0}if(m)return!0}return!1},o:()=>52,m:function(){return 70},i:(a,c,e,f)=>{for(var m=0,B=0;B<e;B++){var ba=A[c>>2],Q=A[c+4>>2];c+=8;for(var C=0;C<Q;C++){var g=z[ba+C],D=aa[a];if(0===g||10===g){g=D;for(var k=0,n=k+NaN,p=k;g[p]&&!(p>=n);)++p;if(16<p-k&&g.buffer&&U)g=U.decode(g.subarray(k,p));else{for(n="";k<p;){var h=g[k++];if(h&128){var E=g[k++]&63;if(192==(h&224))n+=String.fromCharCode((h&31)<<6|E);else{var R=g[k++]&63;h=224==(h&240)?(h&15)<<12|E<<6|R:(h&7)<<18|E<<12|R<<6|g[k++]&63;65536>h?n+=
String.fromCharCode(h):(h-=65536,n+=String.fromCharCode(55296|h>>10,56320|h&1023))}}else n+=String.fromCharCode(h)}g=n}(1===a?v:w)(g);D.length=0}else D.push(g)}m+=Q}A[f>>2]=m;return 0},g:function(a){speakerg_off(a)},l:function(a,c){speakerg_on(a,c)},v:function(a){return vfsg_chdir(a)},w:function(a){return vfsg_close(a)},r:function(a,c,e){return vfsg_findfirst(a,c,e)},q:function(a){return vfsg_findnext(a)},u:function(a,c){return vfsg_getcwd(a,c)},j:function(a,c){return vfsg_open(a,c)},a:function(a,
c,e){return vfsg_read(a,c,e)},c:function(a,c,e){return vfsg_seek(a,c,e)},t:function(a,c){return vfsg_truncate(a,c)},s:function(a,c,e){return vfsg_write(a,c,e)},h:function(a){return vfsg_has_feature(a)},k:function(){return vfsg_time_ms()},b:function(a){return zetag_update_blink(a)},d:function(a,c,e){return zetag_update_charset(a,c,e)},f:function(a){return zetag_update_palette(a)}},W=function(){var a={a:ca};J++;N??=M("zeta_native.wasm")?"zeta_native.wasm":t+"zeta_native.wasm";S(a,function(c){W=c.instance.exports;
x=W.x;F();H.unshift(W.y);J--;0==J&&(null!==K&&(clearInterval(K),K=null),L&&(c=L,L=null,c()))}).catch(l);return{}}();b._zzt_get_ip=()=>(b._zzt_get_ip=W.A)();b._zzt_get_cycles=()=>(b._zzt_get_cycles=W.B)();b._zzt_kmod_get=()=>(b._zzt_kmod_get=W.C)();b._zzt_kmod_set=a=>(b._zzt_kmod_set=W.D)(a);b._zzt_kmod_clear=a=>(b._zzt_kmod_clear=W.E)(a);b._zzt_set_lock_charset=a=>(b._zzt_set_lock_charset=W.F)(a);b._zzt_set_lock_palette=a=>(b._zzt_set_lock_palette=W.G)(a);
b._zzt_key_get_delay=()=>(b._zzt_key_get_delay=W.H)();b._zzt_key_get_repeat_delay=()=>(b._zzt_key_get_repeat_delay=W.I)();b._zzt_key_set_delay=(a,c)=>(b._zzt_key_set_delay=W.J)(a,c);b._zzt_key=(a,c)=>(b._zzt_key=W.K)(a,c);b._zzt_keyup=a=>(b._zzt_keyup=W.L)(a);b._zzt_mark_frame=()=>(b._zzt_mark_frame=W.M)();b._zzt_joy_set=a=>(b._zzt_joy_set=W.N)(a);b._zzt_joy_clear=a=>(b._zzt_joy_clear=W.O)(a);b._zzt_joy_axis=(a,c)=>(b._zzt_joy_axis=W.P)(a,c);b._zzt_mouse_set=a=>(b._zzt_mouse_set=W.Q)(a);
b._zzt_mouse_clear=a=>(b._zzt_mouse_clear=W.R)(a);b._zzt_mouse_axis=(a,c)=>(b._zzt_mouse_axis=W.S)(a,c);b._zzt_get_charset_default=()=>(b._zzt_get_charset_default=W.T)();b._zzt_force_default_charset=a=>(b._zzt_force_default_charset=W.U)(a);b._zzt_load_charset=(a,c,e,f)=>(b._zzt_load_charset=W.V)(a,c,e,f);b._zzt_set_timer_offset=a=>(b._zzt_set_timer_offset=W.W)(a);b._zzt_set_max_extended_memory=a=>(b._zzt_set_max_extended_memory=W.X)(a);b._zzt_video_mode=()=>(b._zzt_video_mode=W.Y)();
b._zzt_load_palette_default=()=>(b._zzt_load_palette_default=W.Z)();b._zzt_key_pop=a=>(b._zzt_key_pop=W._)(a);b._zzt_load_binary=(a,c)=>(b._zzt_load_binary=W.$)(a,c);b._zzt_load_ega_palette=a=>(b._zzt_load_ega_palette=W.aa)(a);b._zzt_load_palette=a=>(b._zzt_load_palette=W.ba)(a);b._zzt_load_blink=a=>(b._zzt_load_blink=W.ca)(a);b._zzt_get_active_blink_duration_ms=()=>(b._zzt_get_active_blink_duration_ms=W.da)();b._zzt_get_screen_size=(a,c)=>(b._zzt_get_screen_size=W.ea)(a,c);
b._zzt_get_charset=(a,c)=>(b._zzt_get_charset=W.fa)(a,c);b._zzt_get_palette=()=>(b._zzt_get_palette=W.ga)();b._zzt_get_blink=()=>(b._zzt_get_blink=W.ha)();b._zzt_get_blink_user_override=()=>(b._zzt_get_blink_user_override=W.ia)();b._zzt_set_blink_user_override=a=>(b._zzt_set_blink_user_override=W.ja)(a);b._zzt_get_blink_duration_ms=()=>(b._zzt_get_blink_duration_ms=W.ka)();b._zzt_set_blink_duration_ms=a=>(b._zzt_set_blink_duration_ms=W.la)(a);b._zzt_init=a=>(b._zzt_init=W.ma)(a);
b._audio_set_remove_player_movement_sound=a=>(b._audio_set_remove_player_movement_sound=W.na)(a);b._zzt_execute=a=>(b._zzt_execute=W.oa)(a);b._zzt_mark_timer=()=>(b._zzt_mark_timer=W.pa)();b._zzt_mark_timer_turbo=()=>(b._zzt_mark_timer_turbo=W.qa)();b._zzt_get_ram=()=>(b._zzt_get_ram=W.ra)();b._malloc=a=>(b._malloc=W.sa)(a);b._free=a=>(b._free=W.ta)(a);b._ui_activate=()=>(b._ui_activate=W.ua)();b._audio_stream_get_volume=()=>(b._audio_stream_get_volume=W.va)();
b._audio_get_remove_player_movement_sound=()=>(b._audio_get_remove_player_movement_sound=W.wa)();b._audio_stream_set_volume=a=>(b._audio_stream_set_volume=W.xa)(a);b._audio_stream_init=(a,c,e,f)=>(b._audio_stream_init=W.ya)(a,c,e,f);b._audio_stream_get_max_volume=()=>(b._audio_stream_get_max_volume=W.za)();b._audio_stream_generate=(a,c,e)=>(b._audio_stream_generate=W.Aa)(a,c,e);b._audio_stream_append_on=(a,c,e)=>(b._audio_stream_append_on=W.Ba)(a,c,e);
b._audio_local_delay_time=(a,c,e)=>(b._audio_local_delay_time=W.Ca)(a,c,e);b._audio_should_insert_pause=(a,c)=>(b._audio_should_insert_pause=W.Da)(a,c);b._audio_stream_append_off=(a,c)=>(b._audio_stream_append_off=W.Ea)(a,c);b._audio_generate_init=()=>(b._audio_generate_init=W.Fa)();b._audio_get_note_delay=()=>(b._audio_get_note_delay=W.Ga)();b._audio_set_note_delay=a=>(b._audio_set_note_delay=W.Ha)(a);b.AsciiToString=V;var X,Y;L=function da(){X||Z();X||(L=da)};
function Z(){if(!(0<J)){if(!Y&&(Y=1,T(G),0<J))return;X||(X=1,b.calledRun=1,y||(T(H),d(b),T(I)))}}Z();moduleRtn=q;


  return moduleRtn;
}
);
})();
if (typeof exports === 'object' && typeof module === 'object')
  module.exports = ZetaNative;
else if (typeof define === 'function' && define['amd'])
  define([], () => ZetaNative);
